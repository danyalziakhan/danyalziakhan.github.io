<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Operator Overloading - Its Usefulness and Misuses | Danyal Zia Khan</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Operator Overloading - Its Usefulness and Misuses" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Operator Overloading - Its Usefulness and Misuses" />
<meta property="og:description" content="Operator Overloading - Its Usefulness and Misuses" />
<link rel="canonical" href="http://localhost:4000/blog/archive/2016-09-27-operator-overloading-in-csharp/" />
<meta property="og:url" content="http://localhost:4000/blog/archive/2016-09-27-operator-overloading-in-csharp/" />
<meta property="og:site_name" content="Danyal Zia Khan" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-27T00:00:00+05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Operator Overloading - Its Usefulness and Misuses" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2016-09-27T00:00:00+05:00","datePublished":"2016-09-27T00:00:00+05:00","description":"Operator Overloading - Its Usefulness and Misuses","headline":"Operator Overloading - Its Usefulness and Misuses","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/archive/2016-09-27-operator-overloading-in-csharp/"},"url":"http://localhost:4000/blog/archive/2016-09-27-operator-overloading-in-csharp/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=45d34487792f2956ddb52a5175ed56dd62002dbb">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">Danyal Zia Khan</a></h1>

        

        <p>Software engineer specializing in Python automation, web scraping, API development, and full-stack web applications. I deliver clean, efficient solutions for complex tasks and custom workflows.</p>
        
        <nav style="margin-bottom: 20px">
        
        <a href="/" style="margin-right: 10px">
            Home
        </a>
        
        <a href="/blog" style="margin-right: 10px">
            Blog
        </a>
        
        </nav>

      </header>
      <section>

      <h1 id="operator-overloading---its-usefulness-and-misuses">Operator Overloading - Its Usefulness and Misuses</h1>

<p><strong>Note:</strong> This tutorial assumes that you have read my previous beginning tutorials and that you at least know how to create an instance of a class.</p>

<p><strong>Difficulty:</strong> Intermediate</p>

<p>Operator overloading is a great feature of C# that acts as syntactic sugar in the code and eases the use of libraries in your programs. This feature is not present in Java, which makes C# appealing to many programmers including myself. Through it, you can create your own user defined operator implementation of available operators for your own classes and structs. This feature is particularly useful if you are creating a library as it will make your library easier to use for others.</p>

<p>In this tutorial, I will teach you its usefulness, misuses, and how you can implement them in C#.</p>

<hr />

<h2 id="which-operators-can-be-overloaded">Which Operators Can Be Overloaded?</h2>

<p>MSDN provides a complete list of operators that can be overloaded. In short: unary operators (<code class="language-plaintext highlighter-rouge">+</code> as in <code class="language-plaintext highlighter-rouge">i++</code> etc.), binary operators (<code class="language-plaintext highlighter-rouge">+</code> as in <code class="language-plaintext highlighter-rouge">obj1 + obj2</code> etc.), comparison operators (<code class="language-plaintext highlighter-rouge">&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;</code> etc.), and conversion operators can be overloaded.</p>

<hr />

<h2 id="usefulness-of-operator-overloading">Usefulness of Operator Overloading</h2>

<p>Suppose you have a class called <code class="language-plaintext highlighter-rouge">Vector3f</code> for storing three floats (x, y, and z) corresponding to mathematical vectors used for the operations on three dimensional vectors, commonly found in graphics libraries. We need different methods to operate on them: add, subtract, multiply, and divide. You can create such a class with methods as follows:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Vector3f</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Add</span><span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">x</span> <span class="p">+=</span> <span class="n">vec</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
        <span class="n">y</span> <span class="p">+=</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
        <span class="n">z</span> <span class="p">+=</span> <span class="n">vec</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Sub</span><span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">x</span> <span class="p">-=</span> <span class="n">vec</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
        <span class="n">y</span> <span class="p">-=</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
        <span class="n">z</span> <span class="p">-=</span> <span class="n">vec</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Mul</span><span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">x</span> <span class="p">*=</span> <span class="n">vec</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
        <span class="n">y</span> <span class="p">*=</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
        <span class="n">z</span> <span class="p">*=</span> <span class="n">vec</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Div</span><span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">x</span> <span class="p">/=</span> <span class="n">vec</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
        <span class="n">y</span> <span class="p">/=</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
        <span class="n">z</span> <span class="p">/=</span> <span class="n">vec</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Now, we can use this class in our program and operate on the objects as follows:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Operator</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Vector3f</span> <span class="n">vec1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">);</span>
        <span class="n">Vector3f</span> <span class="n">vec2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">);</span>
        <span class="n">vec1</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">vec2</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span> <span class="p">(</span><span class="n">vec1</span><span class="p">.</span><span class="n">x</span><span class="p">);</span> <span class="c1">// 4</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span> <span class="p">(</span><span class="n">vec1</span><span class="p">.</span><span class="n">y</span><span class="p">);</span> <span class="c1">// 4</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span> <span class="p">(</span><span class="n">vec1</span><span class="p">.</span><span class="n">z</span><span class="p">);</span> <span class="c1">// 4</span>

        <span class="n">vec1</span><span class="p">.</span><span class="nf">Sub</span><span class="p">(</span><span class="n">vec2</span><span class="p">);</span>
        <span class="n">vec1</span><span class="p">.</span><span class="nf">Mul</span><span class="p">(</span><span class="n">vec2</span><span class="p">);</span>
        <span class="n">vec1</span><span class="p">.</span><span class="nf">Div</span><span class="p">(</span><span class="n">vec2</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Wouldn’t it be better to simply perform operations on them like <code class="language-plaintext highlighter-rouge">vec1 + vec2</code> just like <code class="language-plaintext highlighter-rouge">2 + 3</code>? Operator overloading reduces the need to explicitly call methods for such trivial tasks.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Vector3f</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">;</span>
    <span class="k">public</span> <span class="nf">Vector3f</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">x</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">y</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="n">z</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">Vector3f</span> <span class="k">operator</span><span class="p">+</span> <span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec1</span><span class="p">,</span> <span class="n">Vector3f</span> <span class="n">vec2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Vector3f</span> <span class="p">(</span><span class="n">vec1</span><span class="p">.</span><span class="n">x</span> <span class="p">+</span> <span class="n">vec2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">vec1</span><span class="p">.</span><span class="n">y</span> <span class="p">+</span> <span class="n">vec2</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">vec1</span><span class="p">.</span><span class="n">z</span> <span class="p">+</span> <span class="n">vec2</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">Vector3f</span> <span class="k">operator</span><span class="p">-</span> <span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec1</span><span class="p">,</span> <span class="n">Vector3f</span> <span class="n">vec2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Vector3f</span> <span class="p">(</span><span class="n">vec1</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">vec2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">vec1</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="n">vec2</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">vec1</span><span class="p">.</span><span class="n">z</span> <span class="p">-</span> <span class="n">vec2</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">Vector3f</span> <span class="k">operator</span><span class="p">*</span> <span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec1</span><span class="p">,</span> <span class="n">Vector3f</span> <span class="n">vec2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Vector3f</span> <span class="p">(</span><span class="n">vec1</span><span class="p">.</span><span class="n">x</span> <span class="p">*</span> <span class="n">vec2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">vec1</span><span class="p">.</span><span class="n">y</span> <span class="p">*</span> <span class="n">vec2</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">vec1</span><span class="p">.</span><span class="n">z</span> <span class="p">*</span> <span class="n">vec2</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">Vector3f</span> <span class="k">operator</span><span class="p">/</span> <span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec1</span><span class="p">,</span> <span class="n">Vector3f</span> <span class="n">vec2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Vector3f</span> <span class="p">(</span><span class="n">vec1</span><span class="p">.</span><span class="n">x</span> <span class="p">/</span> <span class="n">vec2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">vec1</span><span class="p">.</span><span class="n">y</span> <span class="p">/</span> <span class="n">vec2</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">vec1</span><span class="p">.</span><span class="n">z</span> <span class="p">/</span> <span class="n">vec2</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Now we can simply use them in our program as follows:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Operator</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">vec1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3f</span> <span class="p">(</span><span class="m">5.5f</span><span class="p">,</span> <span class="m">5.5f</span><span class="p">,</span> <span class="m">5.5f</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">vec2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3f</span> <span class="p">(</span><span class="m">9.8f</span><span class="p">,</span> <span class="m">9.8f</span><span class="p">,</span> <span class="m">9.8f</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">vec3</span> <span class="p">=</span> <span class="n">vec1</span> <span class="p">+</span> <span class="n">vec2</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span> <span class="p">(</span><span class="n">vec3</span><span class="p">.</span><span class="n">x</span><span class="p">);</span> <span class="c1">// 15.3</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span> <span class="p">(</span><span class="n">vec3</span><span class="p">.</span><span class="n">y</span><span class="p">);</span> <span class="c1">// 15.3</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span> <span class="p">(</span><span class="n">vec3</span><span class="p">.</span><span class="n">z</span><span class="p">);</span> <span class="c1">// 15.3</span>

        <span class="n">vec3</span> <span class="p">+=</span> <span class="n">vec1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Any operator that can be overloaded can be defined in a class like this:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">static</span> <span class="p">&lt;</span><span class="k">return</span> <span class="n">type</span><span class="p">&gt;</span> <span class="k">operator</span> <span class="p">&lt;</span><span class="k">operator</span><span class="p">&gt;(&lt;</span><span class="n">parameters</span><span class="p">&gt;)</span>
<span class="p">{</span>
    <span class="c1">// implementation</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Example:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">static</span> <span class="kt">bool</span> <span class="k">operator</span> <span class="p">==</span> <span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec1</span><span class="p">,</span> <span class="n">Vector3f</span> <span class="n">vec2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">vec1</span><span class="p">.</span><span class="n">x</span> <span class="p">==</span> <span class="n">vec2</span><span class="p">.</span><span class="n">x</span> <span class="p">&amp;&amp;</span> <span class="n">vec1</span><span class="p">.</span><span class="n">y</span> <span class="p">==</span> <span class="n">vec2</span><span class="p">.</span><span class="n">y</span> <span class="p">&amp;&amp;</span> <span class="n">vec1</span><span class="p">.</span><span class="n">z</span> <span class="p">==</span> <span class="n">vec2</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="kt">bool</span> <span class="k">operator</span> <span class="p">!=</span> <span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec1</span><span class="p">,</span> <span class="n">Vector3f</span> <span class="n">vec2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">vec1</span><span class="p">.</span><span class="n">x</span> <span class="p">!=</span> <span class="n">vec2</span><span class="p">.</span><span class="n">x</span> <span class="p">&amp;&amp;</span> <span class="n">vec1</span><span class="p">.</span><span class="n">y</span> <span class="p">!=</span> <span class="n">vec2</span><span class="p">.</span><span class="n">y</span> <span class="p">&amp;&amp;</span> <span class="n">vec1</span><span class="p">.</span><span class="n">z</span> <span class="p">!=</span> <span class="n">vec2</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="n">Vector3f</span> <span class="k">operator</span> <span class="p">++</span> <span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Vector3f</span><span class="p">(</span><span class="n">vec</span><span class="p">.</span><span class="n">x</span> <span class="p">+</span> <span class="m">1</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span> <span class="p">+</span> <span class="m">1</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">z</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="n">Vector3f</span> <span class="k">operator</span> <span class="p">--</span> <span class="p">(</span><span class="n">Vector3f</span> <span class="n">vec</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Vector3f</span><span class="p">(</span><span class="n">vec</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="m">1</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="m">1</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">z</span> <span class="p">-</span> <span class="m">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Usage:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Operator</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">vec1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">vec2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">4</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">vec3</span> <span class="p">=</span> <span class="n">vec1</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">vec3</span> <span class="p">==</span> <span class="n">vec1</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Vectors are equal"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">vec1</span> <span class="p">!=</span> <span class="n">vec2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Vectors are not equal"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">vec1</span><span class="p">++;</span>
        <span class="n">vec2</span><span class="p">--;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="misuses-of-operator-overloading">Misuses of Operator Overloading</h2>

<p>As it eases the use of libraries, some people use operator overloading in places where there is ambiguity in its meaning. You should only overload operators on logical types where its meaning is obvious.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ArrayHolder</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">int</span><span class="p">[]</span> <span class="n">array</span><span class="p">;</span>
    <span class="k">public</span> <span class="nf">ArrayHolder</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">a</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">array</span> <span class="p">=</span> <span class="n">a</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">ArrayHolder</span> <span class="k">operator</span> <span class="p">+(</span><span class="n">ArrayHolder</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">temp</span> <span class="p">=</span> <span class="n">a</span><span class="p">.</span><span class="n">array</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">i</span> <span class="k">in</span> <span class="n">temp</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">temp</span> <span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">b</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="k">new</span> <span class="nf">ArrayHolder</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In this case, the overloaded <code class="language-plaintext highlighter-rouge">+</code> operator adds an integer to all elements of an array. The issue is that the programmer does not know which number is being added, making it ambiguous.</p>

<p>To make code less ambiguous, provide equivalent methods alongside overloaded operators. For example, if a user does not understand your operators, they can use the methods instead.</p>

<p>You should also overload operators symmetrically. For example, if you overload <code class="language-plaintext highlighter-rouge">+</code> and <code class="language-plaintext highlighter-rouge">-</code>, you should also overload <code class="language-plaintext highlighter-rouge">*</code> and <code class="language-plaintext highlighter-rouge">/</code>. If you overload equality <code class="language-plaintext highlighter-rouge">==</code>, you should also overload inequality <code class="language-plaintext highlighter-rouge">!=</code>.</p>

<p>Overall, operator overloading is a very useful feature if used properly where its meaning makes sense, such as logical numbers, vector like structures (quaternions, matrices), etc. It should be used in places where operations on objects are obvious.</p>

<hr />

<p>Will you be willing to use this feature in your library? Or would you just prefer to use methods for consistency with Java code?</p>

<hr />

<p>References:<br />
<a href="http://en.wikipedia.org/wiki/Operator_overloading">Wikipedia: Operator Overloading</a><br />
<a href="http://msdn.microsoft.com/en-us/library/8edha89s.aspx">MSDN: Operator Overloading</a><br />
<a href="http://msdn.microsoft.com/en-us/library/2sk3x8a7%28v=vs.71%29.aspx">MSDN: Conversion Operators</a></p>


      </section>
      <footer>
        <p><small>Copyright (c) 2025 Danyal Zia Khan</small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
  </body>
</html>